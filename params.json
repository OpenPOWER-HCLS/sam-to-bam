{
  "name": "Sam-to-bam",
  "tagline": "",
  "body": "## PAPER\r\nOgasawara T, Cheng Y, Tzeng T-HK (2016) Sam2bam: High-Performance Framework for NGS Data Preprocessing Tools. PLoS ONE 11(11): e0167100. doi:[10.1371/journal.pone.0167100](http://dx.doi.org/10.1371/journal.pone.0167100)\r\n\r\n## HOW TO BUILD\r\n\r\nStep 1. Download the latest build script\r\n\r\n    $ wget https://github.com/OpenPOWER-HCLS/sam-to-bam/raw/master/build.sh\r\n\r\nStep 2. Run the script on the directory where you put the source files and compile them\r\n\r\n    $ bash build.sh\r\n\r\n----\r\n## HOW TO RUN\r\n\r\n### Convert the file format from SAM to BAM\r\n\r\n    $ build/samtools/samtools sam2bam -oout.bam in1.sam in2.sam in3.sam ...\r\n\r\nCommand-line options:\r\n\r\n    out.bam       output BAM file name\r\n    in.sam　　      input SAM file name\r\n\r\n### Select alignments while converting the file format from SAM to BAM\r\n\r\n    $ build/samtools/samtools sam2bam -Fpre_filter:s=20:5000000-60000000 -oout.bam in.sam\r\n    $ build/samtools/samtools sam2bam -Fpre_filter:r=H06HD.2 -oout.bam in.sam\r\n    $ build/samtools/samtools sam2bam -Fpre_filter:l=Solexa-135852 -oout.bam in.sam\r\n    $ build/samtools/samtools sam2bam -Fpre_filter:q=12 -oout.bam in.sam\r\n    $ build/samtools/samtools sam2bam -Fpre_filter:f=1 -oout.bam in.sam\r\n    $ build/samtools/samtools sam2bam -Fpre_filter:F=2 -oout.bam in.sam\r\n\r\nCommand-line options:\r\n\r\n    -Fpre_filter:s=20:5000000-60000000      Select regions (e.g., including 5000000-6000000 of reference sequence 20)\r\n    -Fpre_filter:r=H06HD.2                  Select read group (e.g., H06HD.2)\r\n    -Fpre_filter:l=Solexa-135852            Select library (e.g., Solexa-135852)\r\n    -Fpre_filter:q=12                       Select high MAPQ (e.g., more than or equal 12)\r\n    -Fpre_filter:f=1                        Select flag bits (e.g., bit 1 is set)\r\n    -Fpre_filter:F=2                        Select cleared flag bits (e.g., bit 2 is not set)\r\n\r\n### Sort alignments by coordinate\r\n\r\n    $ build/samtools/samtools sam2bam -Fsort_by_coordinate: -oout.bam in.sam\r\n\r\nCommand-line options:\r\n\r\n    -Fsort_by_coordinate:      sort alignments by coordinate\r\n\r\n### Use GenWQE compression accelerator on IBM POWER8\r\n\r\nPrerequisites:    \r\n1. [GenWQE software](https://github.com/ibm-genwqe) is installed on /opt/genwqe.    \r\n2. A GenWQE compression card is installed on the system.\r\n\r\n    $ export HW_ZLIB=8\r\n    $ build/samtools/samtools sam2bam -oout.bam in.sam\r\n\r\nCommand-line options:\r\n\r\n    HW_ZLIB       Non-zero HW_ZLIB enables H/W acceleration of compression if the accelerator is available in the system\r\n    8             the number of threads that offload compression to the hardware accelerator\r\n\r\n### Run duplicate marking for IBM POWER8\r\n\r\n    $ build/samtools/samtools sam2bam -Fibm_markdup:r -oout.bam in.sam\r\n\r\nCommand-line options:\r\n\r\n    -Fibm_markdup:                       Mark duplicates\r\n    -Fibm_markdup:r                      Remove duplicates\r\n",
  "note": "Don't delete this file! It's used internally to help with page regeneration."
}